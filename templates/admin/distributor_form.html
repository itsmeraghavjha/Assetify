{% extends "base.html" %}
{% block title %}{{ title }}{% endblock %}

{% macro render_field(field) %}
    <div> {# Changed mb-4 to be within the div #}
        {{ field.label(class="block text-sm font-medium text-gray-700 mb-1") }}
        {# Apply specific class based on field type for styling #}
        {{ field(class="form-input" if field.type not in ['SelectField'] else "form-select") }}
        {% if field.errors %}
            {% for error in field.errors %}
                <p class="mt-1 text-xs text-red-600">{{ error }}</p>
            {% endfor %}
        {% endif %}
    </div>
{% endmacro %}

{% block content %}
<div class="card max-w-4xl mx-auto page-content">
    <div class="card-header">
        <i class="fa fa-truck"></i> {{ title }}
    </div>
    <div class="card-content">
        <form action="" method="POST" novalidate>
            {{ form.hidden_tag() }}
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                {{ render_field(form.name) }}
                {{ render_field(form.code) }}
                {{ render_field(form.city) }}
                {{ render_field(form.state) }}
            </div>
            
            <hr class="my-6 border-gray-200">
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                {{ render_field(form.asm_bm_name) }}
                {{ render_field(form.bm_email) }}
                {{ render_field(form.rh_name) }}
                {{ render_field(form.rh_email) }}
            </div>

            <hr class="my-6 border-gray-200">

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6"> {# Put in grid for consistency #}
                {{ render_field(form.se_id) }}
            </div>

            <div class="mt-8 flex justify-end space-x-3">
                <a href="{{ url_for('manage_distributors') }}" class="btn btn-secondary">
                    Cancel
                </a>
                {{ form.submit(class="btn btn-main-action") }}
            </div>
        </form>
    </div>
</div>
{% endblock %}